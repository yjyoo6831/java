package pm;
import java.util.*;
public class Sub01 {
	public static void run() {
		System.out.println("Sub01....");
		boolean run =true;
		Scanner scan=new Scanner(System.in);
		
		ArrayList<Sale> sales=new ArrayList<>();
		Sale s1=new Sale();
		s1.code=Integer.parseInt(100);
		s1.name="TV";
		s1.price=350;
		s1.qnt=15;
		sales.add(s1);
		
		Sale s2=new Sale(101,"ì„¸íƒê¸°",270,25);
		sales.add(s2);
		
		
		while(run) {
			System.out.println("-------------------------------------------------------");
			System.out.println("| 1.register | 2.list | 3. check | 4. delate | 0. exit |");
			System.out.println("--------------------------------------------------------");
			System.out.println("ì„ íƒ : ");
			String menu=scan.nextLine();
			switch(menu) {
			case "0":
				
				run=false;
				break;
			case "1":
				Sale last=sales.get(sales.size()-1);
				
				//int code=Integer.parseInt(last.code)+1; //String->int
				int code=last.code;
				Sale s3=new Sale();
				s3.code=code; 
				
				System.out.print("ìƒí’ˆì½”ë“œ : "+s3.code);

		
				System.out.print("ìƒí’ˆì´ë¦„ : ");			
				s3.name=scan.nextLine();
				
				while(true) {
					System.out.print("ìƒí’ˆê°€ê²© : ");
					String price=scan.nextLine();
					
					if(checkNumber(price)) {
						s3.price=Integer.parseInt(price);
						break; //whileë¬¸ ë¹ ì ¸ë‚˜ì˜¤ê¸°
					}
				}
				System.out.print("íŒë§¤ìˆ˜ëŸ‰ : ");
				s3.qnt=Integer.parseInt(scan.nextLine());
				sales.add(s3);
				System.out.println("ë“±.ì™„.");
				break;
				
			case "2": // ë§¤ì¶œ ëª©ë¡
				int tot_qnt=0;
				int tot_sum=0;
				for(Sale s:sales) {
					s.print_land();
					tot_qnt=tot_qnt+s.qnt;
					tot_sum=tot_sum+s.sum();
				}
				System.out.println("---------------------------");
				System.out.printf("ì´ íŒë§¤ ìˆ˜ëŸ‰ : %dê°œ\n",tot_qnt);
				System.out.printf("ì´ íŒë§¤ ê¸ˆì•¡ : %,dë§Œì›\n",tot_sum);
				System.out.println(sales.size()+"ê°œ ìˆ˜ëŸ‰ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ");
				
				break;
			case "3":
				while(true) {
					System.out.print("ì¡°íšŒí•  ìƒí’ˆëª… or code : ");
					String sname=scan.nextLine();
					
					for (Sale s:sales) {
						if(s.name.equals(sname)||s.code.equals(sname)) {
							s.print_port();
					
						}
						else if(sname == null || sname.isEmpty()) {
							System.out.println("ë…¸ì…ë ¥í•¨. ë‹¤ì‹œ ì…ë ¥ í•˜ì„¸ìš” ");
							
						}
						//else if (!s.name.equals(sname)){
						else {
							System.err.println(sname+"ìƒí’ˆì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ");}
						break;
					}
				break;
				}
				
			case "4":
				System.out.print("ì‚­ì œí•  ìƒí’ˆëª…/ì½”ë“œ : ");
				String sname=scan.nextLine();
				for(Sale s:sales) {
					if(s.name.equals(sname)||s.code.equals(sname)) {
						s.print_port();
						System.out.print("ì‚­ì œ?y/n");
						String ans=scan.nextLine();
						if(ans.equals("Y")||ans.equals("y")) {
							sales.remove(s);
							System.out.println("ì‚­ì œì™„ë£Œ");
							
						}else {
							System.out.println("ì‚­ì œ ì•ˆí—¸ìŒ");
						}
						break;
					}
				if(!s.name.equals(sname)) {
					System.out.println(sname+"ìƒí’ˆ ì¡´ì¬ X");}
				}
				break;
			default:
					System.out.println("0-4 ë©”ë‰´ ì¤‘ ì„ íƒ ");
					
				
			}//switch
		}//while
		System.out.println("BY~~~~~~~EğŸ˜€ğŸ˜€");
		// ìˆ«ìì¸ì§€ ì•„ë‹Œì§€ íŒë³„í•˜ëŠ” ë©”ì†Œë“œ
		public static boolean checkNumber(String str) {
			try {
				int num=Interger.parseInt(str);
				return true;
			}catch(Exception e) {
				System.out.println("ìˆ«ìë¡œ ì…ë ¥ ã„±");
				return false;
				
			}
		}
	}
}
